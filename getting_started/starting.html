

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Basic Statistical Visualization &mdash; Altair 2.0.0rc1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/altair-plot.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/altair-gallery.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Altair 2.0.0rc1 documentation" href="../index.html"/>
        <link rel="next" title="Importing Altair" href="../user_guide/importing.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Altair
          

          
            
            <img src="../_static/altair-logo-light.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.0.0rc1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Basic Statistical Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-data">The Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-chart-object">The Chart Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#encodings-and-marks">Encodings and Marks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-transformation-aggregation">Data Transformation: Aggregation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aside-examining-the-json-output">Aside: Examining the JSON Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-your-visualization">Customizing your Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#publishing-your-visualization">Publishing your Visualization</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/importing.html">Importing Altair</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/display.html">Displaying Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/data.html">Specifying Data in Altair</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/encoding.html">Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/marks.html">Marks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/config.html">Configuring Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/transform.html">Data Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/selections.html">Selections: Building Blocks of Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/compound_charts.html">Compound Charts: Layer, HConcat, VConcat, Repeat, Facet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/saving_charts.html">Saving Altair Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide/API.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Case Studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../case_studies/exploring-weather.html">Exploring Seattle Weather</a></li>
</ul>
<p class="caption"><span class="caption-text">Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Example Gallery</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Altair</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Basic Statistical Visualization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/getting_started/starting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="basic-statistical-visualization">
<span id="starting"></span><h1>Basic Statistical Visualization<a class="headerlink" href="#basic-statistical-visualization" title="Permalink to this headline">¶</a></h1>
<p>(This tutorial is adapted from <a class="reference external" href="http://vega.github.io/vega-lite/tutorials/getting_started.html">Vega-Lite’s documentation</a>)</p>
<p>This tutorial will guide you through the basic process of creating
visualizations in Altair. First, you will need to make sure you have the Altair
package and its dependencies installed (see <a class="reference internal" href="installation.html#installation"><span class="std std-ref">Installation</span></a>) and make sure
you understand how altair plots are displayed (see <a class="reference internal" href="../user_guide/display.html#displaying-charts"><span class="std std-ref">Displaying Charts</span></a>).
This tutorial will assume you are working within a Jupyter notebook user
interface, so that plots are automatically rendered.</p>
<p>Here is the outline of this basic tutorial:</p>
<ul class="simple">
<li><a class="reference internal" href="#basic-tutorial-data"><span class="std std-ref">The Data</span></a></li>
<li><a class="reference internal" href="#basic-tutorial-encodings-and-marks"><span class="std std-ref">Encodings and Marks</span></a></li>
<li><a class="reference internal" href="#basic-tutorial-aggregation"><span class="std std-ref">Data Transformation: Aggregation</span></a></li>
<li><a class="reference internal" href="#basic-tutorial-customization"><span class="std std-ref">Customizing your Visualization</span></a></li>
<li><a class="reference internal" href="#basic-tutorial-publishing"><span class="std std-ref">Publishing your Visualization</span></a></li>
</ul>
<div class="section" id="the-data">
<span id="basic-tutorial-data"></span><h2>The Data<a class="headerlink" href="#the-data" title="Permalink to this headline">¶</a></h2>
<p>Data in Altair is built around the Pandas Dataframe. One of the defining
characteristics of statistical visualization is that it begins with
<a class="reference external" href="http://vita.had.co.nz/papers/tidy-data.html">tidy</a>
Dataframes. For the purposes of this tutorial, we’ll start by importing Pandas
and creating a simple DataFrame to visualize, with a categorical variable in
column a and a numerical variable in column b:</p>
<div class="highlight-python" id="starting-rst-altair-source-0"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;CCCDDDEEE&#39;</span><span class="p">),</span>
                     <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">]})</span>
</pre></div>
</div>
<p>When using Altair, datasets are most commonly provided as a Dataframe.
As we will see, the labeled columns of the dataframe are an essential
piece of plotting with Altair.</p>
</div>
<div class="section" id="the-chart-object">
<span id="basic-tutorial-chart-object"></span><h2>The Chart Object<a class="headerlink" href="#the-chart-object" title="Permalink to this headline">¶</a></h2>
<p>The fundamental object in Altair is the <a class="reference internal" href="../user_guide/API.html#altair.Chart" title="altair.Chart"><code class="xref py py-class docutils literal"><span class="pre">Chart</span></code></a>, which takes a
dataframe as a single argument:</p>
<div class="highlight-python" id="starting-rst-altair-source-1"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>So far, we have defined the Chart object, but we have not yet told the chart
to <em>do</em> anything with the data. That will come next.</p>
</div>
<div class="section" id="encodings-and-marks">
<span id="basic-tutorial-encodings-and-marks"></span><h2>Encodings and Marks<a class="headerlink" href="#encodings-and-marks" title="Permalink to this headline">¶</a></h2>
<p>With this chart object in hand, we can now specify how we would like the
data to be visualized. This is done via the <code class="docutils literal"><span class="pre">mark</span></code> attribute of the chart
object, which is most conveniently accessed via the <code class="docutils literal"><span class="pre">Chart.mark_*</span></code> methods.
For example, we can show the data as a point using <code class="xref py py-meth docutils literal"><span class="pre">mark_point()</span></code>:</p>
<div class="highlight-python" id="starting-rst-altair-source-2"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-2">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-2', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><p>Here the rendering consists of one point per row in the dataset, all plotted
on top of each other, since we have not yet specified positions for these
points.</p>
<p>To visually separate the points, we can map various <em>encoding channels</em>, or
<em>channels</em> for short, to columns in the dataset.
For example, we could <em>encode</em> the variable <code class="docutils literal"><span class="pre">a</span></code> of the data with the
<code class="docutils literal"><span class="pre">x</span></code> channel, which represents the x-axis position of the points.
This can be done straightforwardly via the <a class="reference internal" href="../user_guide/API.html#altair.Chart.encode" title="altair.Chart.encode"><code class="xref py py-meth docutils literal"><span class="pre">Chart.encode()</span></code></a> method:</p>
<div class="highlight-python" id="starting-rst-altair-source-3"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-3">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-3', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><p>The <code class="docutils literal"><span class="pre">encode()</span></code> method builds a key-value mapping between encoding channels
(such as <code class="docutils literal"><span class="pre">x</span></code>, <code class="docutils literal"><span class="pre">y</span></code>, <code class="docutils literal"><span class="pre">color</span></code>, <code class="docutils literal"><span class="pre">shape</span></code>, <code class="docutils literal"><span class="pre">size</span></code>, etc.) to columns in
the dataset, accessed by column name.</p>
<p>For pandas dataframes, Altair automatically determines the appropriate data
type for the mapped column, which in this case is a <em>nominal</em> value, or an
unordered categorical.</p>
<p>Though we’ve now separated the data by one attribute, we still have multiple
points overlapping within each category. Let’s further separate these by
adding a <code class="docutils literal"><span class="pre">y</span></code> encoding channel, mapped to the <code class="docutils literal"><span class="pre">&quot;b&quot;</span></code> column:</p>
<div class="highlight-python" id="starting-rst-altair-source-4"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;b&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-4">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-4', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><p>The type of the data in the <code class="docutils literal"><span class="pre">&quot;b&quot;</span></code> column is again automatically-inferred
by altair, and this time is treated as a <em>quantitative</em> type (i.e. real-valued).
Additionally, we see that grid lines and appropriate axis titles are
automatically added as well.</p>
</div>
<div class="section" id="data-transformation-aggregation">
<span id="basic-tutorial-aggregation"></span><h2>Data Transformation: Aggregation<a class="headerlink" href="#data-transformation-aggregation" title="Permalink to this headline">¶</a></h2>
<p>To allow for more flexibility in how data are visualized, Altair has a built-in
syntax for <em>aggregation</em> of data.
For example, we can compute the average of all values by specifying this
aggregate within the column identifier:</p>
<div class="highlight-python" id="starting-rst-altair-source-5"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;average(b)&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-5">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "aggregate": "average", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-5', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "point", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "aggregate": "average", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><p>Now within each x-axis category, we see a single point reflecting the
average of the values within that category.</p>
<p>Typically, aggregated values are not represented by point markings,
but by bar markings. We can do this by replacing <code class="xref py py-meth docutils literal"><span class="pre">mark_point()</span></code>
with <code class="xref py py-meth docutils literal"><span class="pre">mark_bar()</span></code>:</p>
<div class="highlight-python" id="starting-rst-altair-source-6"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;average(b)&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-6">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "aggregate": "average", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-6', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "nominal", "field": "a"}, "y": {"type": "quantitative", "aggregate": "average", "field": "b"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><p>Because the categorical feature is mapped to the <code class="docutils literal"><span class="pre">x</span></code>-axis, the result is
a vertical bar chart. To get a horizontal bar chart, all we need is to
swap the <code class="docutils literal"><span class="pre">x</span></code> and <code class="docutils literal"><span class="pre">y</span></code> keywords:</p>
<div class="highlight-python" id="starting-rst-altair-source-7"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;average(b)&#39;</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-7">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "aggregate": "average", "field": "b"}, "y": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-7', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "aggregate": "average", "field": "b"}, "y": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div><div class="section" id="aside-examining-the-json-output">
<h3>Aside: Examining the JSON Output<a class="headerlink" href="#aside-examining-the-json-output" title="Permalink to this headline">¶</a></h3>
<p>Recall that Altair’s main purpose is to convert plot specifications to a JSON
string that conforms to the Vega-Lite schema.
It is instructive here to use the <code class="xref py py-meth docutils literal"><span class="pre">to_json()</span></code> method to inspect the
JSON specification that Altair is exporting and sending as JSON to Vega-Lite.
For clarity, we’ll leave out the data and make a nicely-formatted output:</p>
<div class="highlight-python" id="starting-rst-altair-source-8"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;average(b)&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">ignore</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<p>Notice here that <code class="docutils literal"><span class="pre">encode(x='a')</span></code> has been expanded to a JSON structure with
a <code class="docutils literal"><span class="pre">field</span></code> name, and a <code class="docutils literal"><span class="pre">type</span></code> for the data.
The <code class="docutils literal"><span class="pre">encode(y='average(b)')</span></code> has been expanded similarly and includes an <code class="docutils literal"><span class="pre">aggregate</span></code>
field.</p>
<p>Altair’s full shorthand syntax includes a way to specify the type of the
column as well:</p>
<div class="highlight-python" id="starting-rst-altair-source-9"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;average(b):Q&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
</pre></div>
</div>
<div class="admonition">
<div class="first last highlight-none"><div class="highlight"><pre><span></span>{
  &quot;aggregate&quot;: &quot;average&quot;,
  &quot;field&quot;: &quot;b&quot;,
  &quot;type&quot;: &quot;quantitative&quot;
}
</pre></div>
</div>
<p>This shorthand is equivalent to spelling-out the attributes by name:</p>
<div class="highlight-python" id="starting-rst-altair-source-10"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;quantitative&#39;</span><span class="p">,</span> <span class="n">aggregate</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span>
</pre></div>
</div>
<p>This more verbose means of specifying channels can be used directly in
Altair chart specifications, a fact that becomes useful when using some
of the more advanced field configurations:</p>
<div class="highlight-python" id="starting-rst-altair-source-11"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;nominal&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;quantitative&#39;</span><span class="p">,</span> <span class="n">aggregate</span><span class="o">=</span><span class="s1">&#39;average&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-11">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "aggregate": "average", "field": "b"}, "y": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-11', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": "bar", "encoding": {"x": {"type": "quantitative", "aggregate": "average", "field": "b"}, "y": {"type": "nominal", "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div></div>
</div>
<div class="section" id="customizing-your-visualization">
<span id="basic-tutorial-customization"></span><h2>Customizing your Visualization<a class="headerlink" href="#customizing-your-visualization" title="Permalink to this headline">¶</a></h2>
<p>By default, Altair via Vega-Lite makes some choices about default properties
of the visualization.
Altair also provides an API to customize the look of the visualization.
For example, we can specify the axis titles using the <code class="docutils literal"><span class="pre">axis</span></code> attribute
of channel classes, and we can specify the color of the marking by setting
the <code class="docutils literal"><span class="pre">color</span></code> keyword of the <code class="docutils literal"><span class="pre">Chart.mark_*</span></code> methods to any valid HTML
color string:</p>
<div class="highlight-python" id="starting-rst-altair-source-12"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;firebrick&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;category&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;average(b)&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;avg(b) by category&#39;</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>

<div id="starting-rst-altair-plot-12">
<script>
  // embed when document is loaded, to ensure vega library is available
  // this works on all modern browsers, except IE8 and older
  document.addEventListener("DOMContentLoaded", function(event) {
      var spec = {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": {"type": "bar", "color": "firebrick"}, "encoding": {"x": {"type": "quantitative", "aggregate": "average", "axis": {"title": "avg(b) by category"}, "field": "b"}, "y": {"type": "nominal", "axis": {"title": "category"}, "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"};
      var opt = {
        "mode": "vega-lite",
        "renderer": "canvas",
        "actions": {"editor": true, "source": true, "export": true}
      };
      vegaEmbed('#starting-rst-altair-plot-12', {"config": {"view": {"width": 400, "height": 300}}, "data": {"values": [{"a": "C", "b": 2}, {"a": "C", "b": 7}, {"a": "C", "b": 4}, {"a": "D", "b": 1}, {"a": "D", "b": 2}, {"a": "D", "b": 6}, {"a": "E", "b": 8}, {"a": "E", "b": 4}, {"a": "E", "b": 7}]}, "mark": {"type": "bar", "color": "firebrick"}, "encoding": {"x": {"type": "quantitative", "aggregate": "average", "axis": {"title": "avg(b) by category"}, "field": "b"}, "y": {"type": "nominal", "axis": {"title": "category"}, "field": "a"}}, "$schema": "https://vega.github.io/schema/vega-lite/v2.json"}).catch(console.err);
  });
</script>
</div></div>
<div class="section" id="publishing-your-visualization">
<span id="basic-tutorial-publishing"></span><h2>Publishing your Visualization<a class="headerlink" href="#publishing-your-visualization" title="Permalink to this headline">¶</a></h2>
<p>Once you have visualized your data, perhaps you would like to publish it
somewhere on the web. This can be done straightforwardly using the
<a class="reference external" href="https://github.com/vega/vega-embed">Vega-Embed</a> javascript package.
A simple example of a stand-alone HTML document can be generated for any
chart using the <code class="xref py py-meth docutils literal"><span class="pre">Chart.savechart()</span></code> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;average(b)&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">chart</span><span class="o">.</span><span class="n">savechart</span><span class="p">(</span><span class="s1">&#39;chart.html&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The basic HTML template produces output that looks like this, where the JSON
specification for your plot produced by <code class="xref py py-meth docutils literal"><span class="pre">Chart.to_json()</span></code> should be stored
in the <code class="docutils literal"><span class="pre">vlSpec</span></code> Javascript variable:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/vega@3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/vega-lite@2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/vega-embed@3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;vis&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;</span>
      <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="p">{};</span>  <span class="cm">/* JSON dump of your chart&#39;s spec */</span>
      <span class="kd">var</span> <span class="nx">opt</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;renderer&quot;</span><span class="o">:</span> <span class="s2">&quot;canvas&quot;</span><span class="p">,</span> <span class="s2">&quot;actions&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">};</span>  <span class="cm">/* Options for the embedding */</span>
      <span class="nx">vegaEmbed</span><span class="p">(</span><span class="s2">&quot;#vis&quot;</span><span class="p">,</span> <span class="nx">spec</span><span class="p">,</span> <span class="nx">opt</span><span class="p">);</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The <code class="xref py py-meth docutils literal"><span class="pre">savechart()</span></code> method provides a convenient way to save such HTML
output to file.
For more information on embedding Altair/Vega-Lite, see the documentation of the <a class="reference external" href="https://github.com/vega/vega-embed">Vega-Embed</a> project.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../user_guide/importing.html" class="btn btn-neutral float-right" title="Importing Altair" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Altair Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.0.0rc1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@3.2"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.3"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
